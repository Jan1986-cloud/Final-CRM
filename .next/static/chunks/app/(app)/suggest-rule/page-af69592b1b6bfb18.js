(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[711],{172:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(157).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},968:(e,a,t)=>{"use strict";t.d(a,{b:()=>d});var r=t(2115),s=t(3540),l=t(5155),n=r.forwardRef((e,a)=>(0,l.jsx)(s.sG.label,{...e,ref:a,onMouseDown:a=>{var t;a.target.closest("button, input, select, textarea")||(null==(t=e.onMouseDown)||t.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));n.displayName="Label";var d=n},4477:(e,a,t)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),!function(e,a){for(var t in a)Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}(a,{callServer:function(){return r.callServer},createServerReference:function(){return l},findSourceMapURL:function(){return s.findSourceMapURL}});let r=t(3806),s=t(1818),l=t(4979).createServerReference},5057:(e,a,t)=>{"use strict";t.d(a,{J:()=>c});var r=t(5155),s=t(2115),l=t(968),n=t(2085),d=t(9434);let i=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(l.b,{ref:a,className:(0,d.cn)(i(),t),...s})});c.displayName=l.b.displayName},5104:(e,a,t)=>{"use strict";t.d(a,{SuggestRuleForm:()=>w});var r=t(5155),s=t(2115),l=t(4477);let n=(0,l.createServerReference)("4001273bbf942c19f1eab5ff156e9270125523bde7",l.callServer,void 0,l.findSourceMapURL,"suggestRule");var d=t(285),i=t(6695),c=t(9409),o=t(8539),u=t(5057),f=t(2085),m=t(9434);let p=(0,f.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),x=s.forwardRef((e,a)=>{let{className:t,variant:s,...l}=e;return(0,r.jsx)("div",{ref:a,role:"alert",className:(0,m.cn)(p({variant:s}),t),...l})});x.displayName="Alert";let h=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("h5",{ref:a,className:(0,m.cn)("mb-1 font-medium leading-none tracking-tight",t),...s})});h.displayName="AlertTitle";let g=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,m.cn)("text-sm [&_p]:leading-relaxed",t),...s})});g.displayName="AlertDescription";var v=t(172),j=t(157);let y=(0,j.A)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),b=(0,j.A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),N="\n- Rule A: Send a follow-up email after 7 days of no contact.\n- Rule B: Offer a 10% discount on their next purchase if they are a repeat customer.\n- Rule C: Schedule a quarterly review call with high-value clients.\n- Rule D: Assign a dedicated account manager for enterprise-level clients.\n".trim();function w(e){let{clients:a}=e,[t,l]=(0,s.useState)(""),[f,m]=(0,s.useState)(N),[p,j]=(0,s.useState)(null),[w,R]=(0,s.useState)(null),[S,A]=(0,s.useTransition)(),C=a.find(e=>e.id===t),k=async()=>{if(!C)return void R("Please select a client.");R(null),j(null),A(async()=>{try{let e="\n          Name: ".concat(C.name,"\n          Email: ").concat(C.email,"\n          Status: ").concat(C.status,"\n          Joined: ").concat(C.createdAt,"\n          Notes: ").concat(C.notes,"\n        ").trim(),a=await n({clientInformation:e,availableRules:f});j(a)}catch(e){console.error(e),R("An error occurred while suggesting a rule. Please try again.")}})};return(0,r.jsx)("div",{className:"mx-auto max-w-3xl",children:(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"AI-Powered Rule Suggestion"}),(0,r.jsx)(i.BT,{children:"Select a client and provide a list of rules. Our AI will suggest the best one to apply."})]}),(0,r.jsxs)(i.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(u.J,{htmlFor:"client-select",children:"Client"}),(0,r.jsxs)(c.l6,{value:t,onValueChange:l,children:[(0,r.jsx)(c.bq,{id:"client-select",children:(0,r.jsx)(c.yv,{placeholder:"Select a client"})}),(0,r.jsx)(c.gC,{children:a.map(e=>(0,r.jsx)(c.eb,{value:e.id,children:e.name},e.id))})]})]}),C&&(0,r.jsx)(i.Zp,{className:"bg-muted/50",children:(0,r.jsxs)(i.aR,{className:"p-4",children:[(0,r.jsx)(i.ZB,{className:"text-base",children:C.name}),(0,r.jsxs)(i.BT,{children:[C.status," Client"]})]})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(u.J,{htmlFor:"rules-textarea",children:"Available Rules"}),(0,r.jsx)(o.T,{id:"rules-textarea",value:f,onChange:e=>m(e.target.value),rows:6,className:"resize-none"})]})]}),(0,r.jsxs)(i.wL,{className:"flex-col items-stretch gap-4",children:[(0,r.jsxs)(d.$,{onClick:k,disabled:S||!t,children:[S?(0,r.jsx)(v.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(y,{className:"mr-2 h-4 w-4"}),"Suggest Rule"]}),w&&(0,r.jsxs)(x,{variant:"destructive",children:[(0,r.jsx)(b,{className:"h-4 w-4"}),(0,r.jsx)(h,{children:"Error"}),(0,r.jsx)(g,{children:w})]}),p&&(0,r.jsxs)(i.Zp,{children:[(0,r.jsx)(i.aR,{children:(0,r.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(y,{className:"text-primary"}),"AI Suggestion"]})}),(0,r.jsxs)(i.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold",children:"Suggested Rule"}),(0,r.jsx)("p",{className:"text-primary font-medium",children:p.suggestedRule})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold",children:"Reasoning"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:p.reasoning})]})]})]})]})]})})}},6695:(e,a,t)=>{"use strict";t.d(a,{BT:()=>c,Wu:()=>o,ZB:()=>i,Zp:()=>n,aR:()=>d,wL:()=>u});var r=t(5155),s=t(2115),l=t(9434);let n=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});n.displayName="Card";let d=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...s})});d.displayName="CardHeader";let i=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});i.displayName="CardTitle";let c=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",t),...s})});c.displayName="CardDescription";let o=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("p-6 pt-0",t),...s})});o.displayName="CardContent";let u=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",t),...s})});u.displayName="CardFooter"},6969:(e,a,t)=>{Promise.resolve().then(t.bind(t,5104)),Promise.resolve().then(t.bind(t,6642))},8539:(e,a,t)=>{"use strict";t.d(a,{T:()=>n});var r=t(5155),s=t(2115),l=t(9434);let n=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...s})});n.displayName="Textarea"},9409:(e,a,t)=>{"use strict";t.d(a,{bq:()=>f,eb:()=>h,gC:()=>x,l6:()=>o,yv:()=>u});var r=t(5155),s=t(2115),l=t(4011),n=t(9556),d=t(7381),i=t(518),c=t(9434);let o=l.bL;l.YJ;let u=l.WT,f=s.forwardRef((e,a)=>{let{className:t,children:s,...d}=e;return(0,r.jsxs)(l.l9,{ref:a,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...d,children:[s,(0,r.jsx)(l.In,{asChild:!0,children:(0,r.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=l.l9.displayName;let m=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(l.PP,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})});m.displayName=l.PP.displayName;let p=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(l.wn,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})});p.displayName=l.wn.displayName;let x=s.forwardRef((e,a)=>{let{className:t,children:s,position:n="popper",...d}=e;return(0,r.jsx)(l.ZL,{children:(0,r.jsxs)(l.UC,{ref:a,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...d,children:[(0,r.jsx)(m,{}),(0,r.jsx)(l.LM,{className:(0,c.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(p,{})]})})});x.displayName=l.UC.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(l.JU,{ref:a,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s})}).displayName=l.JU.displayName;let h=s.forwardRef((e,a)=>{let{className:t,children:s,...n}=e;return(0,r.jsxs)(l.q7,{ref:a,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.VF,{children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})}),(0,r.jsx)(l.p4,{children:s})]})});h.displayName=l.q7.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(l.wv,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",t),...s})}).displayName=l.wv.displayName}},e=>{var a=a=>e(e.s=a);e.O(0,[641,160,991,642,441,684,358],()=>a(6969)),_N_E=e.O()}]);