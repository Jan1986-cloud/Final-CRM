"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[800],{5057:(e,r,t)=>{t.d(r,{J:()=>d});var s=t(5155),l=t(2115),a=t(968),i=t(2085),n=t(9434);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)(a.b,{ref:r,className:(0,n.cn)(o(),t),...l})});d.displayName=a.b.displayName},6695:(e,r,t)=>{t.d(r,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>i,aR:()=>n,wL:()=>m});var s=t(5155),l=t(2115),a=t(9434);let i=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("div",{ref:r,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...l})});i.displayName="Card";let n=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...l})});n.displayName="CardHeader";let o=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("div",{ref:r,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",t),...l})});o.displayName="CardTitle";let d=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("div",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",t),...l})});d.displayName="CardDescription";let c=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("div",{ref:r,className:(0,a.cn)("p-6 pt-0",t),...l})});c.displayName="CardContent";let m=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",t),...l})});m.displayName="CardFooter"},7481:(e,r,t)=>{t.d(r,{dj:()=>u});var s=t(2115);let l=0,a=new Map,i=e=>{if(a.has(e))return;let r=setTimeout(()=>{a.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,r)},n=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=r;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===r.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)}}},o=[],d={toasts:[]};function c(e){d=n(d,e),o.forEach(e=>{e(d)})}function m(e){let{...r}=e,t=(l=(l+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...r,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function u(){let[e,r]=s.useState(d);return s.useEffect(()=>(o.push(r),()=>{let e=o.indexOf(r);e>-1&&o.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},7759:(e,r,t)=>{t.d(r,{C5:()=>_,MJ:()=>f,Rr:()=>h,eI:()=>p,lR:()=>j,lV:()=>d,zB:()=>m});var s=t(5155),l=t(2115),a=t(4253),i=t(2177),n=t(9434),o=t(5057);let d=i.Op,c=l.createContext({}),m=e=>{let{...r}=e;return(0,s.jsx)(c.Provider,{value:{name:r.name},children:(0,s.jsx)(i.xI,{...r})})},u=()=>{let e=l.useContext(c),r=l.useContext(x),{getFieldState:t,formState:s}=(0,i.xW)(),a=t(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=r;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...a}},x=l.createContext({}),p=l.forwardRef((e,r)=>{let{className:t,...a}=e,i=l.useId();return(0,s.jsx)(x.Provider,{value:{id:i},children:(0,s.jsx)("div",{ref:r,className:(0,n.cn)("space-y-2",t),...a})})});p.displayName="FormItem";let j=l.forwardRef((e,r)=>{let{className:t,...l}=e,{error:a,formItemId:i}=u();return(0,s.jsx)(o.J,{ref:r,className:(0,n.cn)(a&&"text-destructive",t),htmlFor:i,...l})});j.displayName="FormLabel";let f=l.forwardRef((e,r)=>{let{...t}=e,{error:l,formItemId:i,formDescriptionId:n,formMessageId:o}=u();return(0,s.jsx)(a.DX,{ref:r,id:i,"aria-describedby":l?"".concat(n," ").concat(o):"".concat(n),"aria-invalid":!!l,...t})});f.displayName="FormControl";let h=l.forwardRef((e,r)=>{let{className:t,...l}=e,{formDescriptionId:a}=u();return(0,s.jsx)("p",{ref:r,id:a,className:(0,n.cn)("text-sm text-muted-foreground",t),...l})});h.displayName="FormDescription";let _=l.forwardRef((e,r)=>{var t;let{className:l,children:a,...i}=e,{error:o,formMessageId:d}=u(),c=o?String(null!=(t=null==o?void 0:o.message)?t:""):a;return c?(0,s.jsx)("p",{ref:r,id:d,className:(0,n.cn)("text-sm font-medium text-destructive",l),...i,children:c}):null});_.displayName="FormMessage"},7800:(e,r,t)=>{t.d(r,{ArticleForm:()=>v});var s=t(5155),l=t(2177),a=t(221),i=t(5594),n=t(285),o=t(7759),d=t(2523),c=t(8539),m=t(7481),u=t(5695),x=t(2115),p=t(4477);let j=(0,p.createServerReference)("4061b5700d6dd240bd70a1a5dc3fd8a4d67ec7eccb",p.callServer,void 0,p.findSourceMapURL,"saveArticleAction");var f=t(7223),h=t(4301),_=t(172),b=t(6695);let g=i.Ik({artikel_naam:i.Yj().min(2,"Name must be at least 2 characters."),artikel_omschrijving_kort:i.Yj().min(5,"Short description is required."),artikel_omschrijving_lang:i.Yj().optional(),artikel_fotos:i.YO(i.Ik({foto_url:i.Yj().url("Invalid URL format.").or(i.eu("")),foto_omschrijving:i.Yj()})).optional(),artikel_urls:i.YO(i.Ik({value:i.Yj().url("Invalid URL format.").or(i.eu(""))})).optional(),artikel_magazijnlocatie:i.Yj().optional(),artikel_prijs_excl_btw:i.au.number().min(0,"Price must be a positive number."),artikel_korting_percentage:i.au.number().min(0,"Discount must be >= 0").max(100,"Discount must be <= 100").optional().default(0),artikel_btw_percentage:i.au.number().min(0,"VAT must be a positive number."),artikel_eenheid:i.Yj().min(1,"Unit is required.")});function v(e){let{article:r,onFinished:t}=e,{toast:i}=(0,m.dj)(),p=(0,u.useRouter)(),[v,k]=(0,x.useTransition)(),N=(0,l.mN)({resolver:(0,a.u)(g),defaultValues:r?{...r,artikel_urls:r.artikel_urls.map(e=>({value:e}))}:{artikel_naam:"",artikel_omschrijving_kort:"",artikel_omschrijving_lang:"",artikel_fotos:[],artikel_urls:[],artikel_magazijnlocatie:"",artikel_prijs_excl_btw:0,artikel_korting_percentage:0,artikel_btw_percentage:21,artikel_eenheid:"piece"}}),{fields:y,append:R,remove:A}=(0,l.jz)({control:N.control,name:"artikel_fotos"}),{fields:C,append:I,remove:w}=(0,l.jz)({control:N.control,name:"artikel_urls"});return(0,s.jsx)(o.lV,{...N,children:(0,s.jsxs)("form",{onSubmit:N.handleSubmit(function(e){k(async()=>{try{let s=r?{...e,id:r.id}:e,l=await j(s);i({title:r?"Article Updated":"Article Created",description:'Article "'.concat(l.artikel_naam,'" has been successfully saved.')}),null==t||t(l),p.refresh()}catch(e){console.error(e),i({variant:"destructive",title:"Error",description:e.message||"Failed to save article. Please try again."})}})}),className:"space-y-6",children:[(0,s.jsx)(o.zB,{control:N.control,name:"artikel_naam",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.eI,{children:[(0,s.jsx)(o.lR,{children:"Article Name"}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(d.p,{placeholder:"e.g., Pro Widget",...r,disabled:v})}),(0,s.jsx)(o.C5,{})]})}}),(0,s.jsx)(o.zB,{control:N.control,name:"artikel_omschrijving_kort",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.eI,{children:[(0,s.jsx)(o.lR,{children:"Short Description"}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(d.p,{placeholder:"A short, catchy description",...r,disabled:v})}),(0,s.jsx)(o.C5,{})]})}}),(0,s.jsx)(o.zB,{control:N.control,name:"artikel_omschrijving_lang",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.eI,{children:[(0,s.jsx)(o.lR,{children:"Long Description"}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(c.T,{placeholder:"A detailed description of the article",className:"resize-y",...r,disabled:v})}),(0,s.jsx)(o.C5,{})]})}}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,s.jsx)(o.zB,{control:N.control,name:"artikel_magazijnlocatie",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.eI,{children:[(0,s.jsx)(o.lR,{children:"Warehouse Location"}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(d.p,{placeholder:"e.g., Aisle 5, Shelf C",...r,disabled:v})}),(0,s.jsx)(o.C5,{})]})}}),(0,s.jsx)(o.zB,{control:N.control,name:"artikel_eenheid",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.eI,{children:[(0,s.jsx)(o.lR,{children:"Unit"}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(d.p,{placeholder:"e.g., piece, kg, box",...r,disabled:v})}),(0,s.jsx)(o.C5,{})]})}})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[(0,s.jsx)(o.zB,{control:N.control,name:"artikel_prijs_excl_btw",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.eI,{children:[(0,s.jsx)(o.lR,{children:"Price (excl. VAT)"}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(d.p,{type:"number",step:"0.01",...r,disabled:v})}),(0,s.jsx)(o.C5,{})]})}}),(0,s.jsx)(o.zB,{control:N.control,name:"artikel_btw_percentage",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.eI,{children:[(0,s.jsx)(o.lR,{children:"VAT (%)"}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(d.p,{type:"number",step:"1",...r,disabled:v})}),(0,s.jsx)(o.C5,{})]})}}),(0,s.jsx)(o.zB,{control:N.control,name:"artikel_korting_percentage",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.eI,{children:[(0,s.jsx)(o.lR,{children:"Discount (%)"}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(d.p,{type:"number",step:"1",...r,disabled:v})}),(0,s.jsx)(o.C5,{})]})}})]}),(0,s.jsxs)(b.Zp,{children:[(0,s.jsx)(b.aR,{children:(0,s.jsx)(b.ZB,{children:"Photos"})}),(0,s.jsxs)(b.Wu,{className:"space-y-4",children:[y.map((e,r)=>(0,s.jsxs)("div",{className:"flex gap-4 items-end p-2 border rounded-lg",children:[(0,s.jsx)(o.zB,{control:N.control,name:"artikel_fotos.".concat(r,".foto_url"),render:e=>{let{field:r}=e;return(0,s.jsxs)(o.eI,{className:"flex-1",children:[(0,s.jsx)(o.lR,{children:"Photo URL"}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(d.p,{placeholder:"https://placehold.co/600x400.png",...r,disabled:v})}),(0,s.jsx)(o.C5,{})]})}}),(0,s.jsx)(o.zB,{control:N.control,name:"artikel_fotos.".concat(r,".foto_omschrijving"),render:e=>{let{field:r}=e;return(0,s.jsxs)(o.eI,{className:"flex-1",children:[(0,s.jsx)(o.lR,{children:"Photo Description"}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(d.p,{placeholder:"e.g., Front view",...r,disabled:v})}),(0,s.jsx)(o.C5,{})]})}}),(0,s.jsx)(n.$,{type:"button",variant:"destructive",size:"icon",onClick:()=>A(r),disabled:v,children:(0,s.jsx)(f.A,{})})]},e.id)),(0,s.jsxs)(n.$,{type:"button",variant:"outline",onClick:()=>R({foto_url:"",foto_omschrijving:""}),children:[(0,s.jsx)(h.A,{})," Add Photo"]})]})]}),(0,s.jsxs)(b.Zp,{children:[(0,s.jsx)(b.aR,{children:(0,s.jsx)(b.ZB,{children:"Related URLs"})}),(0,s.jsxs)(b.Wu,{className:"space-y-4",children:[C.map((e,r)=>(0,s.jsxs)("div",{className:"flex gap-4 items-end",children:[(0,s.jsx)(o.zB,{control:N.control,name:"artikel_urls.".concat(r,".value"),render:e=>{let{field:r}=e;return(0,s.jsxs)(o.eI,{className:"flex-1",children:[(0,s.jsx)(o.lR,{children:"URL"}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(d.p,{placeholder:"https://example.com/product-info",...r,disabled:v})}),(0,s.jsx)(o.C5,{})]})}}),(0,s.jsx)(n.$,{type:"button",variant:"destructive",size:"icon",onClick:()=>w(r),disabled:v,children:(0,s.jsx)(f.A,{})})]},e.id)),(0,s.jsxs)(n.$,{type:"button",variant:"outline",onClick:()=>I({value:""}),children:[(0,s.jsx)(h.A,{})," Add URL"]})]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsxs)(n.$,{type:"submit",disabled:v,children:[v&&(0,s.jsx)(_.A,{className:"animate-spin"}),r?"Save Changes":"Create Article"]})})]})})}},8539:(e,r,t)=>{t.d(r,{T:()=>i});var s=t(5155),l=t(2115),a=t(9434);let i=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...l})});i.displayName="Textarea"}}]);