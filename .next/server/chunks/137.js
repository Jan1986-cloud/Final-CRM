"use strict";exports.id=137,exports.ids=[137],exports.modules={34729:(e,r,l)=>{l.d(r,{T:()=>t});var s=l(60687),i=l(43210),a=l(4780);let t=i.forwardRef(({className:e,...r},l)=>(0,s.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:l,...r}));t.displayName="Textarea"},35265:(e,r,l)=>{l.d(r,{A:()=>s});let s=(0,l(82614).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},44493:(e,r,l)=>{l.d(r,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>t,aR:()=>n,wL:()=>x});var s=l(60687),i=l(43210),a=l(4780);let t=i.forwardRef(({className:e,...r},l)=>(0,s.jsx)("div",{ref:l,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));t.displayName="Card";let n=i.forwardRef(({className:e,...r},l)=>(0,s.jsx)("div",{ref:l,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...r}));n.displayName="CardHeader";let d=i.forwardRef(({className:e,...r},l)=>(0,s.jsx)("div",{ref:l,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));d.displayName="CardTitle";let o=i.forwardRef(({className:e,...r},l)=>(0,s.jsx)("div",{ref:l,className:(0,a.cn)("text-sm text-muted-foreground",e),...r}));o.displayName="CardDescription";let c=i.forwardRef(({className:e,...r},l)=>(0,s.jsx)("div",{ref:l,className:(0,a.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let x=i.forwardRef(({className:e,...r},l)=>(0,s.jsx)("div",{ref:l,className:(0,a.cn)("flex items-center p-6 pt-0",e),...r}));x.displayName="CardFooter"},59137:(e,r,l)=>{l.d(r,{ArticleForm:()=>k});var s=l(60687),i=l(27605),a=l(63442),t=l(45880),n=l(29523),d=l(71669),o=l(89667),c=l(34729),x=l(29867),j=l(16189),m=l(43210),p=l(6475);let h=(0,p.createServerReference)("4061b5700d6dd240bd70a1a5dc3fd8a4d67ec7eccb",p.callServer,void 0,p.findSourceMapURL,"saveArticleAction");var u=l(57207),f=l(35265),g=l(11516),b=l(44493);let _=t.Ik({artikel_naam:t.Yj().min(2,"Name must be at least 2 characters."),artikel_omschrijving_kort:t.Yj().min(5,"Short description is required."),artikel_omschrijving_lang:t.Yj().optional(),artikel_fotos:t.YO(t.Ik({foto_url:t.Yj().url("Invalid URL format.").or(t.eu("")),foto_omschrijving:t.Yj()})).optional(),artikel_urls:t.YO(t.Ik({value:t.Yj().url("Invalid URL format.").or(t.eu(""))})).optional(),artikel_magazijnlocatie:t.Yj().optional(),artikel_prijs_excl_btw:t.au.number().min(0,"Price must be a positive number."),artikel_korting_percentage:t.au.number().min(0,"Discount must be >= 0").max(100,"Discount must be <= 100").optional().default(0),artikel_btw_percentage:t.au.number().min(0,"VAT must be a positive number."),artikel_eenheid:t.Yj().min(1,"Unit is required.")});function k({article:e,onFinished:r}){let{toast:l}=(0,x.dj)(),t=(0,j.useRouter)(),[p,k]=(0,m.useTransition)(),v=(0,i.mN)({resolver:(0,a.u)(_),defaultValues:e?{...e,artikel_urls:e.artikel_urls.map(e=>({value:e}))}:{artikel_naam:"",artikel_omschrijving_kort:"",artikel_omschrijving_lang:"",artikel_fotos:[],artikel_urls:[],artikel_magazijnlocatie:"",artikel_prijs_excl_btw:0,artikel_korting_percentage:0,artikel_btw_percentage:21,artikel_eenheid:"piece"}}),{fields:y,append:R,remove:N}=(0,i.jz)({control:v.control,name:"artikel_fotos"}),{fields:C,append:A,remove:w}=(0,i.jz)({control:v.control,name:"artikel_urls"});return(0,s.jsx)(d.lV,{...v,children:(0,s.jsxs)("form",{onSubmit:v.handleSubmit(function(s){k(async()=>{try{let i=e?{...s,id:e.id}:s,a=await h(i);l({title:e?"Article Updated":"Article Created",description:`Article "${a.artikel_naam}" has been successfully saved.`}),r?.(a),t.refresh()}catch(e){console.error(e),l({variant:"destructive",title:"Error",description:e.message||"Failed to save article. Please try again."})}})}),className:"space-y-6",children:[(0,s.jsx)(d.zB,{control:v.control,name:"artikel_naam",render:({field:e})=>(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Article Name"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(o.p,{placeholder:"e.g., Pro Widget",...e,disabled:p})}),(0,s.jsx)(d.C5,{})]})}),(0,s.jsx)(d.zB,{control:v.control,name:"artikel_omschrijving_kort",render:({field:e})=>(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Short Description"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(o.p,{placeholder:"A short, catchy description",...e,disabled:p})}),(0,s.jsx)(d.C5,{})]})}),(0,s.jsx)(d.zB,{control:v.control,name:"artikel_omschrijving_lang",render:({field:e})=>(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Long Description"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.T,{placeholder:"A detailed description of the article",className:"resize-y",...e,disabled:p})}),(0,s.jsx)(d.C5,{})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,s.jsx)(d.zB,{control:v.control,name:"artikel_magazijnlocatie",render:({field:e})=>(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Warehouse Location"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(o.p,{placeholder:"e.g., Aisle 5, Shelf C",...e,disabled:p})}),(0,s.jsx)(d.C5,{})]})}),(0,s.jsx)(d.zB,{control:v.control,name:"artikel_eenheid",render:({field:e})=>(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Unit"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(o.p,{placeholder:"e.g., piece, kg, box",...e,disabled:p})}),(0,s.jsx)(d.C5,{})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[(0,s.jsx)(d.zB,{control:v.control,name:"artikel_prijs_excl_btw",render:({field:e})=>(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Price (excl. VAT)"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(o.p,{type:"number",step:"0.01",...e,disabled:p})}),(0,s.jsx)(d.C5,{})]})}),(0,s.jsx)(d.zB,{control:v.control,name:"artikel_btw_percentage",render:({field:e})=>(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"VAT (%)"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(o.p,{type:"number",step:"1",...e,disabled:p})}),(0,s.jsx)(d.C5,{})]})}),(0,s.jsx)(d.zB,{control:v.control,name:"artikel_korting_percentage",render:({field:e})=>(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Discount (%)"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(o.p,{type:"number",step:"1",...e,disabled:p})}),(0,s.jsx)(d.C5,{})]})})]}),(0,s.jsxs)(b.Zp,{children:[(0,s.jsx)(b.aR,{children:(0,s.jsx)(b.ZB,{children:"Photos"})}),(0,s.jsxs)(b.Wu,{className:"space-y-4",children:[y.map((e,r)=>(0,s.jsxs)("div",{className:"flex gap-4 items-end p-2 border rounded-lg",children:[(0,s.jsx)(d.zB,{control:v.control,name:`artikel_fotos.${r}.foto_url`,render:({field:e})=>(0,s.jsxs)(d.eI,{className:"flex-1",children:[(0,s.jsx)(d.lR,{children:"Photo URL"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(o.p,{placeholder:"https://placehold.co/600x400.png",...e,disabled:p})}),(0,s.jsx)(d.C5,{})]})}),(0,s.jsx)(d.zB,{control:v.control,name:`artikel_fotos.${r}.foto_omschrijving`,render:({field:e})=>(0,s.jsxs)(d.eI,{className:"flex-1",children:[(0,s.jsx)(d.lR,{children:"Photo Description"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(o.p,{placeholder:"e.g., Front view",...e,disabled:p})}),(0,s.jsx)(d.C5,{})]})}),(0,s.jsx)(n.$,{type:"button",variant:"destructive",size:"icon",onClick:()=>N(r),disabled:p,children:(0,s.jsx)(u.A,{})})]},e.id)),(0,s.jsxs)(n.$,{type:"button",variant:"outline",onClick:()=>R({foto_url:"",foto_omschrijving:""}),children:[(0,s.jsx)(f.A,{})," Add Photo"]})]})]}),(0,s.jsxs)(b.Zp,{children:[(0,s.jsx)(b.aR,{children:(0,s.jsx)(b.ZB,{children:"Related URLs"})}),(0,s.jsxs)(b.Wu,{className:"space-y-4",children:[C.map((e,r)=>(0,s.jsxs)("div",{className:"flex gap-4 items-end",children:[(0,s.jsx)(d.zB,{control:v.control,name:`artikel_urls.${r}.value`,render:({field:e})=>(0,s.jsxs)(d.eI,{className:"flex-1",children:[(0,s.jsx)(d.lR,{children:"URL"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(o.p,{placeholder:"https://example.com/product-info",...e,disabled:p})}),(0,s.jsx)(d.C5,{})]})}),(0,s.jsx)(n.$,{type:"button",variant:"destructive",size:"icon",onClick:()=>w(r),disabled:p,children:(0,s.jsx)(u.A,{})})]},e.id)),(0,s.jsxs)(n.$,{type:"button",variant:"outline",onClick:()=>A({value:""}),children:[(0,s.jsx)(f.A,{})," Add URL"]})]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsxs)(n.$,{type:"submit",disabled:p,children:[p&&(0,s.jsx)(g.A,{className:"animate-spin"}),e?"Save Changes":"Create Article"]})})]})})}}};