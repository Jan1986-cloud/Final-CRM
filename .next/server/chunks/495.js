"use strict";exports.id=495,exports.ids=[495],exports.modules={15079:(e,s,a)=>{a.d(s,{bq:()=>m,eb:()=>u,gC:()=>h,l6:()=>c,yv:()=>x});var r=a(60687),l=a(43210),t=a(17403),d=a(61662),i=a(89743),n=a(58450),o=a(4780);let c=t.bL;t.YJ;let x=t.WT,m=l.forwardRef(({className:e,children:s,...a},l)=>(0,r.jsxs)(t.l9,{ref:l,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[s,(0,r.jsx)(t.In,{asChild:!0,children:(0,r.jsx)(d.A,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=t.l9.displayName;let j=l.forwardRef(({className:e,...s},a)=>(0,r.jsx)(t.PP,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,r.jsx)(i.A,{className:"h-4 w-4"})}));j.displayName=t.PP.displayName;let p=l.forwardRef(({className:e,...s},a)=>(0,r.jsx)(t.wn,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,r.jsx)(d.A,{className:"h-4 w-4"})}));p.displayName=t.wn.displayName;let h=l.forwardRef(({className:e,children:s,position:a="popper",...l},d)=>(0,r.jsx)(t.ZL,{children:(0,r.jsxs)(t.UC,{ref:d,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...l,children:[(0,r.jsx)(j,{}),(0,r.jsx)(t.LM,{className:(0,o.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(p,{})]})}));h.displayName=t.UC.displayName,l.forwardRef(({className:e,...s},a)=>(0,r.jsx)(t.JU,{ref:a,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=t.JU.displayName;let u=l.forwardRef(({className:e,children:s,...a},l)=>(0,r.jsxs)(t.q7,{ref:l,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(t.VF,{children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})}),(0,r.jsx)(t.p4,{children:s})]}));u.displayName=t.q7.displayName,l.forwardRef(({className:e,...s},a)=>(0,r.jsx)(t.wv,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=t.wv.displayName},34729:(e,s,a)=>{a.d(s,{T:()=>d});var r=a(60687),l=a(43210),t=a(4780);let d=l.forwardRef(({className:e,...s},a)=>(0,r.jsx)("textarea",{className:(0,t.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...s}));d.displayName="Textarea"},66495:(e,s,a)=>{a.d(s,{ClientForm:()=>g});var r=a(60687),l=a(27605),t=a(63442),d=a(45880),i=a(29523),n=a(71669),o=a(89667),c=a(15079),x=a(34729),m=a(29867),j=a(16189),p=a(43210),h=a(6475);let u=(0,h.createServerReference)("40b1d474d95f100735497546519a62008f54dc2245",h.callServer,void 0,h.findSourceMapURL,"saveClientAction");var f=a(11516);let b=d.Ik({name:d.Yj().min(2,"Name must be at least 2 characters."),email:d.Yj().email("Invalid email address."),phone:d.Yj().min(10,"Phone number is too short."),address:d.Ik({street:d.Yj().min(2,"Street is required."),city:d.Yj().min(2,"City is required."),state:d.Yj().min(2,"State is required."),zip:d.Yj().min(5,"Zip code is required.")}),status:d.k5(["Lead","Active","Inactive"]),notes:d.Yj().optional()});function g({client:e,onFinished:s}){let{toast:a}=(0,m.dj)(),d=(0,j.useRouter)(),[h,g]=(0,p.useTransition)(),y=(0,l.mN)({resolver:(0,t.u)(b),defaultValues:e||{name:"",email:"",phone:"",address:{street:"",city:"",state:"",zip:""},status:"Lead",notes:""}});return(0,r.jsx)(n.lV,{...y,children:(0,r.jsxs)("form",{onSubmit:y.handleSubmit(function(r){g(async()=>{try{let l=e?{...r,id:e.id}:r,t=await u(l);a({title:e?"Client Updated":"Client Created",description:`Client "${t.name}" has been successfully saved.`}),s?.(t),d.refresh()}catch(e){console.error(e),a({variant:"destructive",title:"Error",description:e.message||"Failed to save client. Please try again."})}})}),className:"space-y-6",children:[(0,r.jsx)(n.zB,{control:y.control,name:"name",render:({field:e})=>(0,r.jsxs)(n.eI,{children:[(0,r.jsx)(n.lR,{children:"Full Name"}),(0,r.jsx)(n.MJ,{children:(0,r.jsx)(o.p,{placeholder:"John Doe",...e,disabled:h})}),(0,r.jsx)(n.C5,{})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,r.jsx)(n.zB,{control:y.control,name:"email",render:({field:e})=>(0,r.jsxs)(n.eI,{children:[(0,r.jsx)(n.lR,{children:"Email"}),(0,r.jsx)(n.MJ,{children:(0,r.jsx)(o.p,{placeholder:"john.doe@example.com",...e,disabled:h})}),(0,r.jsx)(n.C5,{})]})}),(0,r.jsx)(n.zB,{control:y.control,name:"phone",render:({field:e})=>(0,r.jsxs)(n.eI,{children:[(0,r.jsx)(n.lR,{children:"Phone"}),(0,r.jsx)(n.MJ,{children:(0,r.jsx)(o.p,{placeholder:"(555) 123-4567",...e,disabled:h})}),(0,r.jsx)(n.C5,{})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,r.jsx)(n.zB,{control:y.control,name:"address.street",render:({field:e})=>(0,r.jsxs)(n.eI,{children:[(0,r.jsx)(n.lR,{children:"Street Address"}),(0,r.jsx)(n.MJ,{children:(0,r.jsx)(o.p,{placeholder:"123 Main St",...e,disabled:h})}),(0,r.jsx)(n.C5,{})]})}),(0,r.jsx)(n.zB,{control:y.control,name:"address.city",render:({field:e})=>(0,r.jsxs)(n.eI,{children:[(0,r.jsx)(n.lR,{children:"City"}),(0,r.jsx)(n.MJ,{children:(0,r.jsx)(o.p,{placeholder:"Anytown",...e,disabled:h})}),(0,r.jsx)(n.C5,{})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,r.jsx)(n.zB,{control:y.control,name:"address.state",render:({field:e})=>(0,r.jsxs)(n.eI,{children:[(0,r.jsx)(n.lR,{children:"State / Province"}),(0,r.jsx)(n.MJ,{children:(0,r.jsx)(o.p,{placeholder:"CA",...e,disabled:h})}),(0,r.jsx)(n.C5,{})]})}),(0,r.jsx)(n.zB,{control:y.control,name:"address.zip",render:({field:e})=>(0,r.jsxs)(n.eI,{children:[(0,r.jsx)(n.lR,{children:"Zip / Postal Code"}),(0,r.jsx)(n.MJ,{children:(0,r.jsx)(o.p,{placeholder:"12345",...e,disabled:h})}),(0,r.jsx)(n.C5,{})]})})]}),(0,r.jsx)(n.zB,{control:y.control,name:"status",render:({field:e})=>(0,r.jsxs)(n.eI,{children:[(0,r.jsx)(n.lR,{children:"Status"}),(0,r.jsxs)(c.l6,{onValueChange:e.onChange,defaultValue:e.value,disabled:h,children:[(0,r.jsx)(n.MJ,{children:(0,r.jsx)(c.bq,{children:(0,r.jsx)(c.yv,{placeholder:"Select client status"})})}),(0,r.jsxs)(c.gC,{children:[(0,r.jsx)(c.eb,{value:"Lead",children:"Lead"}),(0,r.jsx)(c.eb,{value:"Active",children:"Active"}),(0,r.jsx)(c.eb,{value:"Inactive",children:"Inactive"})]})]}),(0,r.jsx)(n.C5,{})]})}),(0,r.jsx)(n.zB,{control:y.control,name:"notes",render:({field:e})=>(0,r.jsxs)(n.eI,{children:[(0,r.jsx)(n.lR,{children:"Notes"}),(0,r.jsx)(n.MJ,{children:(0,r.jsx)(x.T,{placeholder:"Initial meeting details, client requirements, etc.",className:"resize-none",...e,disabled:h})}),(0,r.jsx)(n.Rr,{children:"Any relevant notes about this client."}),(0,r.jsx)(n.C5,{})]})}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsxs)(i.$,{type:"submit",disabled:h,children:[h&&(0,r.jsx)(f.A,{className:"animate-spin"}),e?"Save Changes":"Create Client"]})})]})})}}};