(()=>{var e={};e.id=610,e.ids=[610],e.modules={214:(e,t,r)=>{"use strict";r.d(t,{DocumentGenerator:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call DocumentGenerator() from the server but DocumentGenerator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Vulpe\\Ai\\Final-CRM\\src\\app\\(app)\\documents\\document-generator.tsx","DocumentGenerator")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4536:(e,t,r)=>{let{createProxy:s}=r(39844);e.exports=s("C:\\Users\\Vulpe\\Ai\\Final-CRM\\node_modules\\next\\dist\\client\\app-dir\\link.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21524:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var s=r(37413),a=r(91318),n=r(93497),o=r(78963),i=r(61120),d=r(10974);let l=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:r,className:(0,d.cn)("w-full caption-bottom text-sm",e),...t})}));l.displayName="Table";let c=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("thead",{ref:r,className:(0,d.cn)("[&_tr]:border-b",e),...t}));c.displayName="TableHeader";let u=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("tbody",{ref:r,className:(0,d.cn)("[&_tr:last-child]:border-0",e),...t}));u.displayName="TableBody",i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("tfoot",{ref:r,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let m=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("tr",{ref:r,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));m.displayName="TableRow";let p=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("th",{ref:r,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));p.displayName="TableHead";let f=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("td",{ref:r,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));f.displayName="TableCell",i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("caption",{ref:r,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption";var x=r(30084),h=r(63987),v=r(214);let g=(0,r(3515).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var b=r(4536),j=r.n(b),y=r(23469);async function N(){let e=await (0,a.Lf)(),t=await (0,a.HK)();return(0,s.jsxs)("div",{className:"flex h-full flex-col",children:[(0,s.jsx)(n.z,{title:"Documents"}),(0,s.jsx)("main",{className:"flex-1 overflow-auto p-4 md:p-6",children:(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsx)(v.DocumentGenerator,{clients:e})}),(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsxs)(o.Zp,{children:[(0,s.jsx)(o.aR,{children:(0,s.jsx)(o.ZB,{children:"Recent Documents"})}),(0,s.jsx)(o.Wu,{children:(0,s.jsxs)(l,{children:[(0,s.jsx)(c,{children:(0,s.jsxs)(m,{children:[(0,s.jsx)(p,{children:"Client"}),(0,s.jsx)(p,{children:"Type"}),(0,s.jsx)(p,{children:"Number"}),(0,s.jsx)(p,{children:"Date"}),(0,s.jsx)(p,{children:"Status"}),(0,s.jsx)(p,{className:"text-right",children:"Action"})]})}),(0,s.jsx)(u,{children:t.map(e=>{let t={Paid:"default",Sent:"secondary",Draft:"outline",concept:"outline"}[e.document_status];return(0,s.jsxs)(m,{children:[(0,s.jsx)(f,{children:e.clientName}),(0,s.jsx)(f,{children:e.document_type}),(0,s.jsx)(f,{className:"font-mono text-xs",children:e.document_nummer}),(0,s.jsx)(f,{children:(0,h.GP)(new Date(e.document_datum),"MMM d, yyyy")}),(0,s.jsx)(f,{children:(0,s.jsx)(x.E,{variant:t,children:e.document_status})}),(0,s.jsx)(f,{className:"text-right",children:(0,s.jsx)(y.$,{asChild:!0,variant:"ghost",size:"icon",children:(0,s.jsx)(j(),{href:`/documents/${e.id}`,children:(0,s.jsx)(g,{className:"h-4 w-4"})})})})]},e.id)})})]})})]})})]})})]})}},23469:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var s=r(37413),a=r(61120),n=r(39724),o=r(50662),i=r(10974);let d=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...o},l)=>{let c=a?n.DX:"button";return(0,s.jsx)(c,{className:(0,i.cn)(d({variant:t,size:r,className:e})),ref:l,...o})});l.displayName="Button"},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30084:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var s=r(37413);r(61120);var a=r(50662),n=r(10974);let o=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:t,...r}){return(0,s.jsx)("div",{className:(0,n.cn)(o({variant:t}),e),...r})}},33873:e=>{"use strict";e.exports=require("path")},35265:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},44493:(e,t,r)=>{"use strict";r.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>d,Zp:()=>o,aR:()=>i,wL:()=>u});var s=r(60687),a=r(43210),n=r(4780);let o=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));o.displayName="Card";let i=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle";let l=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));l.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},46675:e=>{"use strict";e.exports=require("firebase-admin")},50116:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,4536,23)),Promise.resolve().then(r.bind(r,214)),Promise.resolve().then(r.bind(r,50417))},62753:(e,t,r)=>{"use strict";r.d(t,{DocumentGenerator:()=>h});var s=r(60687),a=r(43210),n=r(29867),o=r(6475);let i=(0,o.createServerReference)("4046ba43fa891420573b4c6e35d6c06acbcaf3ee96",o.callServer,void 0,o.findSourceMapURL,"createDocumentAction");var d=r(29523),l=r(44493),c=r(15079),u=r(63503),m=r(80013),p=r(35265),f=r(11516),x=r(66495);function h({clients:e}){let[t,r]=(0,a.useState)(e),[o,h]=(0,a.useState)(""),[v,g]=(0,a.useState)(""),[b,j]=(0,a.useState)(!1),[y,N]=(0,a.useTransition)(),{toast:w}=(0,n.dj)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{children:"Generate Document"}),(0,s.jsx)(l.BT,{children:"Select a client and document type to generate."})]}),(0,s.jsxs)(l.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(m.J,{htmlFor:"client-select",children:"Client"}),(0,s.jsxs)(c.l6,{value:o,onValueChange:e=>{"--create-new--"===e?(j(!0),setTimeout(()=>h(""),0)):h(e)},children:[(0,s.jsx)(c.bq,{id:"client-select",children:(0,s.jsx)(c.yv,{placeholder:"Select a client"})}),(0,s.jsxs)(c.gC,{children:[(0,s.jsx)(c.eb,{value:"--create-new--",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(p.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Create new client..."})]})}),t.map(e=>(0,s.jsx)(c.eb,{value:e.id,children:e.name},e.id))]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(m.J,{htmlFor:"doc-type-select",children:"Document Type"}),(0,s.jsxs)(c.l6,{value:v,onValueChange:e=>g(e),children:[(0,s.jsx)(c.bq,{id:"doc-type-select",children:(0,s.jsx)(c.yv,{placeholder:"Select document type"})}),(0,s.jsxs)(c.gC,{children:[(0,s.jsx)(c.eb,{value:"Quote",children:"Quote"}),(0,s.jsx)(c.eb,{value:"Work Order",children:"Work Order"}),(0,s.jsx)(c.eb,{value:"Invoice",children:"Invoice"})]})]})]})]}),(0,s.jsx)(l.wL,{children:(0,s.jsxs)(d.$,{onClick:()=>{if(!o||!v)return void w({variant:"destructive",title:"Missing Information",description:"Please select a client and a document type."});N(async()=>{try{await i({klant_id:o,document_type:v}),w({title:"Document Generated",description:"Redirecting to the new document..."})}catch(e){console.error(e),w({variant:"destructive",title:"Error",description:e.message||"Failed to generate document."})}})},className:"w-full",disabled:y,children:[y&&(0,s.jsx)(f.A,{className:"animate-spin"}),"Generate Document"]})})]}),(0,s.jsx)(u.lG,{open:b,onOpenChange:j,children:(0,s.jsxs)(u.Cf,{className:"sm:max-w-2xl",children:[(0,s.jsxs)(u.c7,{children:[(0,s.jsx)(u.L3,{children:"Create New Client"}),(0,s.jsx)(u.rr,{children:"Fill out the form below to add a new client to the system."})]}),(0,s.jsx)("div",{className:"max-h-[70vh] overflow-y-auto p-1 pr-4",children:(0,s.jsx)(x.ClientForm,{onFinished:e=>{r(t=>[e,...t]),h(e.id),j(!1)}})})]})})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63503:(e,t,r)=>{"use strict";r.d(t,{Cf:()=>m,Es:()=>f,L3:()=>x,c7:()=>p,lG:()=>d,rr:()=>h,zM:()=>l});var s=r(60687),a=r(43210),n=r(10991),o=r(78726),i=r(4780);let d=n.bL,l=n.l9,c=n.ZL;n.bm;let u=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(n.hJ,{ref:r,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));u.displayName=n.hJ.displayName;let m=a.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsxs)(c,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)(n.UC,{ref:a,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,(0,s.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(o.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=n.UC.displayName;let p=({className:e,...t})=>(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});p.displayName="DialogHeader";let f=({className:e,...t})=>(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});f.displayName="DialogFooter";let x=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(n.hE,{ref:r,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));x.displayName=n.hE.displayName;let h=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(n.VY,{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));h.displayName=n.VY.displayName},77598:e=>{"use strict";e.exports=require("node:crypto")},78963:(e,t,r)=>{"use strict";r.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>d,Zp:()=>o,aR:()=>i,wL:()=>u});var s=r(37413),a=r(61120),n=r(10974);let o=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));o.displayName="Card";let i=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle";let l=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));l.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},79551:e=>{"use strict";e.exports=require("url")},79972:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,85814,23)),Promise.resolve().then(r.bind(r,62753)),Promise.resolve().then(r.bind(r,33600))},89150:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>l});var s=r(65239),a=r(48088),n=r(88170),o=r.n(n),i=r(30893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);r.d(t,d);let l={children:["",{children:["(app)",{children:["documents",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,21524)),"C:\\Users\\Vulpe\\Ai\\Final-CRM\\src\\app\\(app)\\documents\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,57115)),"C:\\Users\\Vulpe\\Ai\\Final-CRM\\src\\app\\(app)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\Users\\Vulpe\\Ai\\Final-CRM\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Vulpe\\Ai\\Final-CRM\\src\\app\\(app)\\documents\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(app)/documents/page",pathname:"/documents",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,198,658,709,463,948,91,554,783,51,495],()=>r(89150));module.exports=s})();